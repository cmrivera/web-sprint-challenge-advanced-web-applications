{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Robert\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; //create class component for login to create credentials state\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      credentials: {\n        username: \"Lambda School\",\n        password: \"i<3Lambd4\"\n      }\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      axios.post(\"http://localhost:5000/api/login\", this.state.credentials).then(res => {\n        console.log(res.data);\n        localStorage.setItem(\"token\", res.data.payload);\n        this.props.history.push(\"/BubblePage\");\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        credentials: { ...this.state.credentials,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n  }\n\n  //component did mOunt to clear storage when needed and to display if component mounted\n  componentDidMount() {\n    console.log(\"component did mount\");\n    localStorage.clear();\n  } //handlesubmit to post credentials given onSubmit\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, \"Welcome to the Bubble App Login Page!\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.username,\n      onChange: this.handleChange,\n      placeholder: \"Username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.credentials.password,\n      onChange: this.handleChange,\n      placeholder: \"Pssword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \" Login \")));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Robert/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","Component","axios","Login","state","credentials","username","password","handleSubmit","e","preventDefault","post","then","res","console","log","data","localStorage","setItem","payload","props","history","push","catch","err","handleChange","setState","target","name","value","componentDidMount","clear","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AAEA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC5BG,KAD4B,GACpB;AACNC,MAAAA,WAAW,EAAE;AACXC,QAAAA,QAAQ,EAAE,eADC;AAEXC,QAAAA,QAAQ,EAAE;AAFC;AADP,KADoB;;AAAA,SAkB5BC,YAlB4B,GAkBZC,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACAR,MAAAA,KAAK,CACFS,IADH,CACQ,iCADR,EAC2C,KAAKP,KAAL,CAAWC,WADtD,EAEGO,IAFH,CAESC,GAAD,IAAS;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,GAAG,CAACG,IAAJ,CAASG,OAAvC;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,aAAxB;AACD,OANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACdV,QAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACD,OATH;AAUD,KA9B2B;;AAAA,SAkC5BC,YAlC4B,GAkCZhB,CAAD,IAAO;AACpB,WAAKiB,QAAL,CAAc;AACZrB,QAAAA,WAAW,EAAE,EACX,GAAG,KAAKD,KAAL,CAAWC,WADH;AAEX,WAACI,CAAC,CAACkB,MAAF,CAASC,IAAV,GAAiBnB,CAAC,CAACkB,MAAF,CAASE;AAFf;AADD,OAAd;AAMD,KAzC2B;AAAA;;AAQ5B;AACAC,EAAAA,iBAAiB,GAAG;AAClBhB,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAE,IAAAA,YAAY,CAACc,KAAb;AACD,GAZ2B,CAc5B;AACA;AACA;;;AA0BAC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADF,EAEE;AAAM,MAAA,QAAQ,EAAE,KAAKxB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuBC,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKmB,YAJjB;AAKE,MAAA,WAAW,EAAC,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAQE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,KAAK,EAAE,KAAKrB,KAAL,CAAWC,WAAX,CAAuBE,QAHhC;AAIE,MAAA,QAAQ,EAAE,KAAKkB,YAJjB;AAKE,MAAA,WAAW,EAAC,SALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAfF,CAFF,CADF;AAsBD;;AAjE2B;;AAmE9B,eAAetB,KAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\n//create class component for login to create credentials state\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    credentials: {\r\n      username: \"Lambda School\",\r\n      password: \"i<3Lambd4\",\r\n    },\r\n  };\r\n\r\n  //component did mOunt to clear storage when needed and to display if component mounted\r\n  componentDidMount() {\r\n    console.log(\"component did mount\");\r\n    localStorage.clear();\r\n  }\r\n\r\n  //handlesubmit to post credentials given onSubmit\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    axios\r\n      .post(\"http://localhost:5000/api/login\", this.state.credentials)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        this.props.history.push(\"/BubblePage\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  //handleChange to set credential state when given\r\n\r\n  handleChange = (e) => {\r\n    this.setState({\r\n      credentials: {\r\n        ...this.state.credentials,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Welcome to the Bubble App Login Page!</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.credentials.username}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Username\"\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.credentials.password}\r\n            onChange={this.handleChange}\r\n            placeholder=\"Pssword\"\r\n          />\r\n          <button> Login </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}